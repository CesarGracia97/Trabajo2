<ion-content>
  <div class="header_content">
    <h1>Lista de Tareas</h1>
  </div>
  
  <div class="body_content">
    <div *ngIf="loading" class="loading">Cargando tareas...</div>
    <div *ngIf="!loading && tasks.length === 0" class="no-tasks">No existe tareas registradas</div>
    <div *ngIf="!loading && tasks.length > 0" class="task-list">
      <p>Existen tareas registradas:</p>
      <ul>
        <li *ngFor="let task of tasks; let i = index" (click)="toggleDetails(task.ID)">
          <div class="task-header">
            #{{ i + 1 }} - {{ task.NAME }}
          </div>
          <div *ngIf="isExpanded(task.ID)" class="task-details">
            Detalles: {{ task.DETAILS }}
          </div>
        </li>
      </ul>
    </div>
  </div>

  <ion-fab vertical="bottom" horizontal="end" slot="fixed">
    <ion-fab-button (click)="irPagina('create-task')">
      <ion-icon name="add"></ion-icon>
    </ion-fab-button>
    <ion-fab-button (click)="irPagina('details')">
      <ion-icon name="search"></ion-icon>
    </ion-fab-button>
  </ion-fab>

  <ion-toast 
    [isOpen]="toast.isOpen" 
    [message]="toast.message" 
    [duration]="toast.duration" 
    [position]="toast.position" 
    [color]="toast.color"
    (didDismiss)="onToastDismiss()">
  </ion-toast>
</ion-content>
